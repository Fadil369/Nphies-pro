# Environment variables for BrainSAIT Digital Insurance Platform
# Copy this file to .env and configure your specific values

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=development
APP_NAME="BrainSAIT Digital Insurance Platform"
APP_VERSION=1.0.0
PORT=3000

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL="postgresql://postgres:password@localhost:5432/nphies_pro_dev"
REDIS_URL="redis://localhost:6379"
MONGODB_URL="mongodb://localhost:27017/nphies_pro"

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_TIMEOUT=30000

# =============================================================================
# Security & Authentication
# =============================================================================
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRY="24h"
REFRESH_TOKEN_EXPIRY="30d"

# Encryption keys (generate with: openssl rand -base64 32)
ENCRYPTION_KEY="your-32-byte-encryption-key-base64-encoded"
CRYPTO_SALT="your-crypto-salt-for-hashing"

# Multi-factor authentication
MFA_SECRET="your-mfa-secret-key"
OTP_ISSUER="BrainSAIT Digital Insurance"

# =============================================================================
# NPHIES Integration
# =============================================================================
NPHIES_BASE_URL="https://dev-nphies.sa.gov"
NPHIES_CLIENT_CERT_PATH="/config/certs/nphies-client.pem"
NPHIES_CLIENT_KEY_PATH="/config/certs/nphies-client-key.pem"
NPHIES_CA_BUNDLE_PATH="/config/certs/nphies-ca-bundle.pem"
NPHIES_CERT_PASSPHRASE="your-certificate-passphrase"

# FHIR Configuration
FHIR_BASE_URL="/fhir/r4"
FHIR_VERSION="4.0.1"

# =============================================================================
# AI/ML Configuration
# =============================================================================
AI_MODEL_PATH="/models"
ML_CONFIDENCE_THRESHOLD=0.8
FRAUD_DETECTION_THRESHOLD=0.7
AUTO_APPROVAL_THRESHOLD=0.85

# TensorFlow settings
TF_CPP_MIN_LOG_LEVEL=2
CUDA_VISIBLE_DEVICES=0

# =============================================================================
# Cloud Services (AWS - Saudi Region)
# =============================================================================
AWS_REGION="me-south-1"
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"

# S3 Storage
S3_BUCKET="nphies-pro-storage-dev"
S3_ENDPOINT="https://s3.me-south-1.amazonaws.com"

# =============================================================================
# Email & SMS Services
# =============================================================================
# Email (AWS SES)
EMAIL_PROVIDER="ses"
EMAIL_FROM="noreply@brainsait.com"
SES_REGION="me-south-1"

# SMS (AWS SNS or local provider)
SMS_PROVIDER="sns"
SMS_REGION="me-south-1"

# =============================================================================
# Monitoring & Logging
# =============================================================================
LOG_LEVEL="info"
SENTRY_DSN="your-sentry-dsn-for-error-tracking"

# Metrics
PROMETHEUS_PORT=9090
GRAFANA_URL="http://localhost:3000"

# =============================================================================
# Saudi Arabia Specific Settings
# =============================================================================
DEFAULT_TIMEZONE="Asia/Riyadh"
DEFAULT_CURRENCY="SAR"
DEFAULT_LANGUAGE="ar"
SUPPORTED_LANGUAGES="ar,en"

# Saudi business settings
VAT_RATE=0.15
BUSINESS_HOURS_START="08:00"
BUSINESS_HOURS_END="17:00"
WEEKEND_DAYS="friday,saturday"

# =============================================================================
# Rate Limiting & Performance
# =============================================================================
RATE_LIMIT_GLOBAL="1000/hour"
RATE_LIMIT_PER_TENANT="500/hour"
RATE_LIMIT_PER_USER="100/hour"

# Cache settings
CACHE_TTL_ELIGIBILITY=3600
CACHE_TTL_PROVIDERS=86400
CACHE_TTL_CODES=604800

# =============================================================================
# Development & Testing
# =============================================================================
DEBUG=false
ENABLE_SWAGGER=true
ENABLE_CORS=true
MOCK_NPHIES=true
MOCK_PAYMENTS=true

# Test database
TEST_DATABASE_URL="postgresql://postgres:password@localhost:5432/nphies_pro_test"

# =============================================================================
# Compliance & Audit
# =============================================================================
AUDIT_LOG_LEVEL="detailed"
COMPLIANCE_MODE="strict"
DATA_RETENTION_DAYS=2555  # 7 years
AUDIT_RETENTION_DAYS=3650  # 10 years

# GDPR/PDPL settings
ENABLE_DATA_ANONYMIZATION=true
ENABLE_RIGHT_TO_DELETE=true
ENABLE_DATA_PORTABILITY=true

# =============================================================================
# Backup & Disaster Recovery
# =============================================================================
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION=true

# Cross-region backup
BACKUP_REGION="eu-west-1"
ENABLE_CROSS_REGION_BACKUP=true

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_AI_PROCESSING=true
ENABLE_FRAUD_DETECTION=true
ENABLE_REAL_TIME_ELIGIBILITY=true
ENABLE_BATCH_PROCESSING=true
ENABLE_WEBHOOKS=true
ENABLE_ANALYTICS=true

# Beta features
ENABLE_PREDICTIVE_ANALYTICS=false
ENABLE_VOICE_INTERFACE=false
ENABLE_BLOCKCHAIN_AUDIT=false

# =============================================================================
# Third-party Integrations
# =============================================================================
# Payment processors
STRIPE_SECRET_KEY="your-stripe-secret-key"
MADA_MERCHANT_ID="your-mada-merchant-id"

# External APIs
GOOGLE_MAPS_API_KEY="your-google-maps-api-key"
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"

# =============================================================================
# Container & Orchestration
# =============================================================================
DOCKER_REGISTRY="your-docker-registry.com"
KUBERNETES_NAMESPACE="nphies-pro-dev"
HELM_RELEASE_NAME="nphies-pro"

# Health checks
HEALTH_CHECK_INTERVAL=30
READINESS_TIMEOUT=5
LIVENESS_TIMEOUT=10